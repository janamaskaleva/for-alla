const screen1 = document.getElementById("screen1");
const screen2 = document.getElementById("screen2");
const screen3 = document.getElementById("screen3");
const finalScreen = document.getElementById("finalScreen");

// Тексты (в одну строку)
const text1 = "как ты себя чувствуешь?";
const text2 = "чем охота заняться?";
const finalText = `на самом деле, что бы ты не чувствовала и что бы ты не делала, абсолютно бесповоротно точно, решительно и безоговорочно, пока ветер касается твоих щек, пока ты можешь расплакаться от трогательности момента, пока ты просишь алису включить тебе музыку с утра, пока искренне не любишь как картавят другие, пока мечтаешь об архитекторе и мебели из икеи, пока спишь в шелковой пижаме и рассказываешь сны, пока варишь макароны на роту солдат, да и без всего этого - все круто сложится, все будет хорошо, все будет именно так, как надо

я тебя люблю (а ты люби себя)`;

// Активности
const activities = [
  "посмеяться", "посмотреть кино", "прогуляться по району", "поболтать, пожаловаться",
  "почитать", "поваляться в кровати", "сводить себя на свидание",
  "успокоиться", "поплакать"
];

let selectedActivity = null;

// Эффект печатания
function typeWriter(element, text, callback) {
  element.textContent = "";
  let i = 0;
  const timer = setInterval(() => {
    if (i < text.length) {
      element.textContent += text.charAt(i);
      i++;
    } else {
      clearInterval(timer);
      if (callback) callback();
    }
  }, 50);
}

// Создание кнопок настроения
function createMoodButtons() {
  const container = document.getElementById("buttons-container");
  container.innerHTML = "";
  const moods = [
    "тревожно", "грустно", "воодушевленно", "спокойно", "устало",
    "влюбленно", "лениво", "весело", "тепло", "сонно",
    "раздраженно", "потерянно", "счастливо", "свободно", "как-то еще.."
  ];
  moods.forEach(mood => {
    const btn = document.createElement("button");
    btn.textContent = mood;
    btn.classList.add("mood-button");
    btn.onclick = () => {
      btn.classList.toggle("selected");
    };
    container.appendChild(btn);
  });
}

// Создание кнопок активности
function createActivityButtons() {
  const container = document.getElementById("activity-buttons");
  container.innerHTML = "";
  activities.forEach(activity => {
    const btn = document.createElement("button");
    btn.textContent = activity;
    btn.classList.add("activity-button");
    btn.onclick = () => {
      document.querySelectorAll(".activity-button").forEach(b => b.classList.remove("selected"));
      btn.classList.add("selected");
      selectedActivity = activity;
    };
    container.appendChild(btn);
  });
}

// Переходы
function goToScreen2() {
  deactivateScreen(screen1);
  activateScreen(screen2);
  typeWriter(document.getElementById("typewriter2"), text2, createActivityButtons);
}

function goToScreen3() {
  if (!selectedActivity) return;
  deactivateScreen(screen2);
  activateScreen(screen3);
  const content = document.getElementById("content3");
  content.innerHTML = "";
  showContentForActivity(selectedActivity);
}

function goToFinalScreen() {
  deactivateScreen(screen3);
  activateScreen(finalScreen);
  const finalTextEl = document.getElementById("finalText");
  finalTextEl.innerHTML = "";
  typeWriter(finalTextEl, finalText, createFallingHearts);
}

function backToScreen1() {
  deactivateScreen(screen2);
  activateScreen(screen1);
}

function backToScreen2() {
  deactivateScreen(screen3);
  activateScreen(screen2);
}

function backToScreen3() {
  deactivateScreen(finalScreen);
  activateScreen(screen3);
}

// Утилиты
function activateScreen(screen) {
  screen.classList.add("active");
  screen.style.display = "flex";
}

function deactivateScreen(screen) {
  screen.classList.remove("active");
  screen.style.display = "none";
}

// Падающие сердечки
function createFallingHearts() {
  const interval = setInterval(() => {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.textContent = "❤️";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (Math.random() * 3 + 2) + "s";
    document.getElementById("hearts").appendChild(heart);

    setTimeout(() => {
      heart.remove();
    }, 5000);
  }, 100); // много и быстро

  // Остановим через 20 секунд
  setTimeout(() => clearInterval(interval), 20000);
}

// Контент по активности
function showContentForActivity(activity) {
  const content = document.getElementById("content3");

  switch (activity) {
    case "посмеяться":
      content.innerHTML = `
        <img src="./memes/1.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/2.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/3.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/4.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/5.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/6.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/7.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/8.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
        <img src="./memes/9.jpg" alt="мем" style="max-width:100%; margin:15px 0;">
      `;
      break;

    case "посмотреть кино":
      content.innerHTML = `
        1 «Невероятная жизнь Уолтера Митти» Бен Стиллер, 2013<br><br>
        это история о скромном фоторедакторе журнала «life», который живёт в мире грёз, мечтая о героических приключениях, которых нет в его реальной жизни. после кино охота научиться кататься на скейте.<br><br>
        2 «Вики Кристина Барселона» Вуди Аллен, 2008<br><br>
        мелодрама вуди аллена о двух американских подругах, вики и кристине, которые отправляются в барселону и влюбляются в харизматичного художника хуана антонио. их романтические отношения осложняются появлением его взрывной бывшей жены, что приводит к запутанному любовному треугольнику с четырьмя участниками. чтобы посмотреть и подумать, как хорошо, что я адекватная и мне не нравится никакой блять хуан.<br><br>
        3 «Полночь в Париже» Вуди Аллен, 2011<br><br>
        писатель в париже, влюблённый в прошлое. каждую ночь в полночь за ним приезжает старинный автомобиль — и увозит в 1920-е. там — хемингуэй, фитцджеральд, дали, коко шанель. фильм — про ностальгию, но не по годам, а по ощущению, что всё было лучше, когда ты ещё не родился.<br><br>
        4 «Бесподобный мистер Фокс» Уэс Андерсон, 2009<br><br>
        лис в пиджаке, который бросил воровать, чтобы стать семьянином, но потом скучает по своей воровской карьере. фильм — про отцовство, мечты и стиль. анимация из бумаги и ткани — как сказка, которую читают взрослым.<br><br>
        5 «Семейка Тененбаум» Уэс Андерсон, 2001<br><br>
        дети-вундеркинды, выросшие в странной семье. теперь они — взрослые, сломленные, потерянные. но возвращаются домой — на похороны отца (или нет?). смешно, красиво, немного драматично, но больше всего — красиво и смешно.<br><br>
        6 «Милая Фрэнсис» Ноа Баумбак, 2012<br><br>
        девушка 27 лет, танцовщица без карьеры, живёт в нью-йорке, как может. чёрно-белый фильм с прыжками по городу, с неловкими моментами, с друзьями, которые меняются. чтобы посмотреть и подумать, что все будет хорошо.<br><br>
        7 «Вам письмо» Нора Эфрон, 1998<br><br>
        американская романтическая комедия о владелице маленького книжного магазина кэтлин келли (мег райан) и джо фоксе (том хэнкс), владельце сети книжных супермаркетов, который угрожает её бизнесу. нереальный осенний нью-йорк, сразу хочется надеть пальто и пойти пинать листья в парке.<br><br>
        8 «Хорошо быть тихоней» Стивен Чбоски, 2012<br><br>
        подросток, который не вписывается. пишет письма незнакомцу, влюбляется, теряет, находит. фильм — про первые чувства, книги, музыку, дружбу и про то, что быть тихим — не значит быть пустым. ну охота иногда блин посмотреть про подростков, и что?<br><br>
        9 «Капитан Фантастик» Мэтт Росс, 2016<br><br>
        отец живёт в лесу с шестью детьми. учит их философии, математике, боевым искусствам. не знает, что такое телевизор. потом — вынужден выйти в «настоящий» мир. фильм — не про то, кто прав, а про то, как важно любить, даже если ты делаешь всё «неправильно»..
      `;
      break;

    case "прогуляться по району":
      content.innerHTML = `
        академический — один из немногих районов москвы, где всё построено не ради денег, а ради людей. он появился в 1950-х вокруг академии наук — чтобы учёные, инженеры, писатели, врачи могли жить рядом с работой, в спокойствии, среди зелени, без шума и суеты.<br><br>
        так пишет интернет о твоем районе. иногда здесь сложно просто выпить кофе или обожраться булками, но может быть в этом и есть какая-то прелесть?<br><br>
        зато ты живёшь рядом с крутым кинотеатром! можно проверить расписание и купить билет на субботнее утро. в нескончаемых аллеях, окружающих дом, можно всегда посидеть с книжкой, если надоело сидеть дома. рядом с храмом живоначальной троицы нежный уютный парк, можно купить пирожков и смотреть на гуляющих со смешными собаками. а когда совсем все наскучит, считаю важным уже в конце концов посетить дарвиновский музей!<br><br>
        иногда важно просто вывести себя бесцельно из дома, и ничего не ожидать ни от себя, ни от города..
      `;
      break;

    case "поболтать, пожаловаться":
      content.innerHTML = `
        +7 (993) 475-42-11 Яна<br><br>
        +7 (961) 272-79-56 Настя<br><br>
        +7 (917) 345-30-33 Марина
      `;
      break;

    case "почитать":
      content.innerHTML = `
        1. роберт вальзер «прогулка» <br><br>
        главный герой прогуливается по улицам города и размышляет об удачах, неудачах, смысле и красоте. трогательная малая проза, чтобы прочитать в одиночестве за один вечер, покайфовать от слога, посмотреть в окно кухни на любимую пирамиду и вспомнить, что жить прикольно.<br><br>
        «Звуки устремлялись в небо, подобно ангелам с белоснежными крыльями, а оттуда падали вниз и, казалось, умирали с улыбкой. Это казалось умиранием от печали, и еще умиранием от избытка нежной радости, быть может, от безмерно счастливой любви и жизни, а еще от невозможности жить из-за слишком насыщенного и прекрасного ожидания от жизни, ибо это нежное, переполненное до краев любовью и счастьем ожидание, безоглядно вторгаясь в бытие, летит кувырком, будто разбивается о себя самое.»<br><br>
        2. юкио мисима «золотой храм» <br><br>
        в 1950 году сумасшедший монах сжег храм в Киото. никто до сих пор не знает почему. Мисима в романе в форме исповеди от лица неуверенного замкнутого мальчика предлагает посмотреть на эту историю. книжка для полного погружения, чтобы читать в метро, за завтраком и перед сном, чтобы захотеть еще что-нибудь прочитать у автора. <br><br>
        «Глядя на солнечные пятна, движущиеся по этой рубашке, я вдруг почувствовал себя счастливым. Жизнь моя так же измята и морщиниста, как эта белая ткань. Но ткань сияет на солнце, несмотря на морщины! Может быть, и я?..»<br><br>
        3. Иосиф Бродский «похвала скуке»<br><br>
        это все когда-то читали, но почему бы не перечитать что-то столь трепетное правильное и важное? <br><br>
        «Потенциально имущие, вам наскучит ваша работа, ваши друзья, ваши супруги, ваши возлюбленные, вид из вашего окна, мебель или обои в вашей комнате, ваши мысли, вы сами. Соответственно, вы попытаетесь найти пути спасения. Кроме приносящих удовлетворение вышеупомянутых игрушек, вы сможете приняться менять места работы, жительства, знакомых, страну, климат; вы можете предаться промискуитету, алкоголю, путешествиям, урокам кулинарии, наркотикам, психоанализу. Впрочем, вы можете заняться всем этим одновременно; и на время это может помочь. До того дня, разумеется, когда вы проснетесь в своей спальне среди новой семьи и других обоев, в другом государстве и климате, с кучей счетов от вашего турагента и психоаналитика, но с тем же несвежим чувством по отношению к свету дня, льющемуся через окно.»<br><br>
        4. Людмила Улицкая «медея и ее дети»<br><br>
        удивительно, как прочитав, можно опять почувствовать освежающий бриз и запах трав, познакомиться с героями, которые совсем не такие как ты, но такие близкие и понятные, смотреть на обнимающий русский язык Улицкой.<br><br>
        «Вся округа, ближняя и дальняя, была известна ей, как содержимое собственного буфета. Она не только помнила, где и когда можно взять нужное растение, но и отмечала про себя, как с десятилетиями медленно меняется зеленая одежда: заросли горной мяты спускаются вдоль весенних промоин восточного склона Киян-горы, вымирает барбарис от едкой болезни, съедающей нижние ветви, а цикорий, напротив, идет в подземное наступление, и корневища его душат легкие весенние цветы.»<br><br>
        5. Альбер Камю «лето в Алжире» (из сборника «Лето»)<br><br>
        не философия, не трактаты — просто эссе о свете, море, пыли, детстве. Камю пишет о том, как солнце падает на белые стены, как пахнет солью и дыней, как бедность может быть полна красоты. это не призыв к чему-то, а просто напоминание: счастье — это не событие, это состояние тела, когда ты стоишь босиком на горячих камнях и не думаешь ни о чём. читать летом, но можно и зимой — чтобы согреться изнутри.<br><br>
        «Я люблю тебя, мой Алжир, потому что ты никогда не обманываешь: ты даёшь мне только то, что есть — свет и камень, жар и море».<br><br>
        6. Роланд Барт «мифологии» <br><br>
        не обязательно читать всё — можно просто открыть наугад. Барт смотрит на рекламу, на моду, на бытовые ритуалы и видит в них мифы, которыми мы живём, даже не замечая. это научпоп с душой. например, эссе о стирке, о пикапе с багажом на крыше, о вине и спорте — всё это становится поэзией повседневности. читать, когда хочется по-новому увидеть своё утро, свою кухню, свой маршрут на работу.<br><br>
        «Слова никогда не бывают безумны (самое большее — первенсивны), безумен синтаксис»<br><br>
        7. Владимир Набоков «письма к вере»<br><br>
        вот бывает, что хочется любви, и даже совсем необязательно в форме отправленных цветов и похода в кино за ручку, хочется иногда просто убедиться, что она где-то есть: красивая, нежная, живая и смешная любовь. посчитать, сколько милых кличек придумывает набоков для своей жены, и с каким трепетом просит ее писать побольше ответных писем. читать когда угодно, и всегда оставаться с чувством, что любовь – это прекрасно.<br><br>
        «Знаешь ли ты, что ты – мое счастие? Ты вся создана из маленьких стрельчатых движений – я люблю каждое из них. Думала ли ты когда-нибудь о том, как странно, как легко сошлись наши жизни? Это, вероятно, у Бога, скучающего в раю, вышел пасьянс, который выходит не часто. Я люблю в тебе эту твою чудесную понятливость, словно у тебя в душе есть заранее уготовленное место для каждой моей мысли.»
      `;
      break;

    case "поваляться в кровати":
      content.innerHTML = `
        идеальные позы для лежания — это на спине и на левом боку, так как они обеспечивают естественное положение позвоночника, улучшают кровообращение и снижают нагрузку на внутренние органы. поза на спине предотвращает появление морщин, а сон на левом боку помогает при изжоге и улучшает пищеварение. иногда нам нужно просто немного полежать, а иногда надо полежать исключительно, ничего при этом не делая, рассматривая недовольным лицом потолок. такая незамысловатая перезагрузка помогает нам двигаться дальше.
      `;
      break;

    case "сводить себя на свидание":
      content.innerHTML = `
        идея супер (всегда)<br><br>
        что наденешь? пожалуйста, выгуляй одну из своих чудесных шляп и купи себе еще одну — ты в них бесподобна! сделай свой классический легкий нюдик, не собирайся слишком долго, но и не торопись, собираться на свидание — это часть свидания.<br><br>
        куда хочешь пойти? что-то излюбленное? музеон, третьяковка, курская, скворец, чехов и компания? или хочешь побродить в новом месте? хочешь побыть одна или с кем-то поболтать?<br><br>
        вот парочку предложений, если еще не решила:<br><br>
        - винный факультет, 13 градусов или moments, чтобы выпить бокал вина и задумчиво наблюдать за прохожими..<br><br>
        - наверняка, прям сейчас классная лекция или мастер-класс в зотове, хочется?<br><br>
        - если дело ближе к вечеру, может стоит проверить какая вечеринка сегодня в публике (или кто из сумасшедших сегодня поет в imagine bar) ты офигенно танцуешь, пусть это видят и другие<br><br>
        - можно направиться в стендап клуб на трубной, не всегда точное попадание, но шанс посмеяться будет!<br><br>
        - для культурной современной программы театр doc и а39 обязательны для посещения<br><br>
        - можно позвать подруг в караоке изуми и наесться рамена<br><br>
        - урок по пилатесу? массаж? цветочный с котятами?<br><br>
        - а может вообще поехать в сергиев посад?<br><br>
        главное спросить себя: чего охота больше всего, даже если и нет ясного ответа на этот вопрос. свидание – это в первую очередь романтика, а значит самое главное поцеловать свое отражение в зеркале перед выходом.
      `;
      break;

    case "успокоиться":
      content.innerHTML = `
        одним из самых эффективных и доступных способов успокоиться является дыхательная практика, поскольку дыхание напрямую связано с работой вегетативной нервной системы. когда мы испытываем тревогу или стресс, активируется симпатическая нервная система — она отвечает за реакцию «бей или беги». дыхание при этом становится учащённым, поверхностным, что усиливает чувство нехватки воздуха и может усугубить тревожное состояние. специальные техники дыхания позволяют активировать парасимпатическую нервную систему — ту, которая отвечает за расслабление, восстановление и чувство безопасности. одна из наиболее изученных и рекомендуемых практик — диафрагмальное дыхание с удлинённым выдохом. сядьте или лягте в удобное положение, положите одну руку на грудь, другую — на живот. медленно вдыхайте через нос, ощущая, как поднимается живот, затем плавно выдыхайте через слегка приоткрытые губы, стараясь, чтобы выдох был длиннее вдоха — например, вдох на счёт 4, выдох на счёт 6. повторяйте этот цикл 5–10 минут. такое дыхание снижает частоту сердечных сокращений, уменьшает уровень кортизола (гормона стресса) и помогает мозгу «сигнал о безопасности».<br><br>
        ещё одним важным способом успокоиться является ориентация на настоящий момент через опору на органы чувств, что лежит в основе техник осознанности (mindfulness). когда тревога уносит нас в будущее («а что, если?») или в прошлое («почему я это сказал?»), полезно мягко вернуть внимание в здесь и сейчас. для этого можно использовать метод 5-4-3-2-1: назовите про себя пять вещей, которые вы видите вокруг, четыре — которые можете потрогать, три — которые слышите, две — которые чувствуете запахом, и одну — которую можете попробовать на вкус (или представить). эта практика помогает «перезагрузить» внимание, отвлечься от навязчивых мыслей и почувствовать землю под ногами. она особенно эффективна при приступах паники или сильной внутренней дезориентации.<br><br>
        также важно помнить, что физическое тело может помочь разуму. иногда достаточно изменить позу, чтобы изменить внутреннее состояние. попробуйте принять позу заземления: сядьте, поставьте стопы на пол, ощущая опору, выпрямите спину, но не напрягайтесь, положите руки на колени ладонями вверх или вниз — так, как вам комфортно. закройте глаза и на протяжении минуты сосредоточьтесь на ощущениях в теле — в стопах, в соприкосновении с креслом, в весе тела. это помогает вернуть ощущение «я здесь, я в своём теле, я в безопасности». дополнительно можно использовать тактильную стимуляцию — например, держать в руках что-то прохладное или тёплое (чашку с чаем, камень, шарик-антистресс), что также способствует регуляции нервной системы.<br><br>
        наконец, очень важно говорить с собой с сочувствием, а не с критикой. в моменты тревоги внутренний голос часто становится жёстким: «ты не справляешься», «ты слабый», «с тобой что-то не так». попробуйте мягко заменить эти фразы на более добрые и поддерживающие: «сейчас мне тяжело, и это нормально. я могу справиться постепенно. я уже делаю что-то полезное — я дышу, я здесь». самосострадание — не роскошь, а необходимый элемент эмоциональной регуляции. исследования показывают, что люди, которые относятся к себе с добротой в трудные моменты, быстрее восстанавливаются после стресса..
      `;
      break;

    case "поплакать":
      content.innerHTML = `
        здесь все просто: если не получается, то необходимо как можно шире открыть глаза и постараться не моргать, вы быстро почувствуете, как слизистая глаз начнет пересыхать, после этого нужно моргнуть несколько раз подряд, при этом запустится механизм увлажнения, и слезные железы наполнят ваши глаза слезами.<br><br>
        вот пару идеальных композиций для слез:<br><br>
        Radiohead – creep<br><br>
        Анна Асти – по барам
      `;
      break;
  }
}
// Запускаем первую страницу при загрузке
window.onload = () => {
  createMoodButtons();
  typeWriter(document.getElementById("typewriter"), text1);
};
